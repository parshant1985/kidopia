<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kidpreneur - Young Minds, Big Ideas</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css">
</head>

<body>
  <!-- Header -->
  <header class="header" >
    <nav class="nav">
      <div class="nav-container">
        <div class="logo">
          <span class="logo-text">Kidpreneur</span>
        </div>
        <ul class="nav-menu">
          <li><a href="javascript:void(0)"  onclick="navigationFn('home')">Home</a></li>
          <li><a href="javascript:void(0)"onclick="navigationFn('opportunities')" >Opportunities</a></li>
          <li><a href="javascript:void(0)"  onclick="navigationFn('community')">Community</a></li>
          <li><a href="javascript:void(0)"  onclick="navigationFn('event')">Events</a></li>
          <li><a href="javascript:void(0)"  onclick="navigationFn('learning')">Learning Language</a></li>
          <li><a href="javascript:void(0)"  onclick="navigationFn('about')">About Us</a></li>
          <li><a href="javascript:void(0)" onclick="navigationFn('footer')" class="btn-contact">Contact Us</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <div class="hero-container">
      <div class="hero-content">
        <img src="./images/Group 8144.png"/>
        <h1 class="hero-title">Kidpreneur – Young Minds, Big Ideas</h1>
        <p class="hero-description">A platform for students to showcase creative startup ideas and inspire the world.</p>
        <div class="hero-buttons">
          <button class="btn btn-primary">Get Started</button>
          <button class="btn btn-secondary">Learn More</button>
        </div>
      </div>
      <div class="hero-images">
        <img src="images/01.jpg" alt="Child entrepreneur" class="hero-img">
        <img src="images/02.jpg" alt="Young innovator" class="hero-img">
        <img src="images/03.jpg" alt="Creative kid" class="hero-img">
        <img src="images/04.jpg" alt="Learning child" class="hero-img">
      </div>
    </div>
  </section>

  <!-- Showcase Section -->
  <section class="showcase" id="opportunities">
    <div class="slider-container">
      <div class="slider-header">
    Showcase of creative ideas
      </div>
    
      <div class="slider-content">
        <button class="slider-arrow prev" id="prevBtn">‹</button>
        <button class="slider-arrow next" id="nextBtn">›</button>
    
        <div class="slider-track" id="sliderTrack">
          <div class="product-card">
            <div class="product-image"><img src="images/tech.jpg" alt="Tech & Digital">
            </div>
 
            <div class="price-container">
             
              <div class="sale-price"><h3>Tech & Digital</h3></div>
            </div>
          </div>
    
        <div class="product-card">
          <div class="product-image"><img src="images/eco.jpg" alt="Tech & Digital">
          </div>
        
          <div class="price-container">
        
            <div class="sale-price">
              <h3>Eco-Friendly & Sustainability</h3>
            </div>
          </div>
        </div>
      <div class="product-card">
        <div class="product-image"><img src="images/school.jpg" alt="Tech & Digital">
        </div>
      
        <div class="price-container">
      
          <div class="sale-price">
            <h3>School & Learning Related</h3>
          </div>
        </div>
      </div>
    <div class="product-card">
      <div class="product-image"><img src="images/tech.jpg" alt="Tech & Digital">
      </div>
    
      <div class="price-container">
    
        <div class="sale-price">
          <h3>Tech & Digital</h3>
        </div>
      </div>
    </div>
    <div class="product-card">
      <div class="product-image"><img src="images/school.jpg" alt="Tech & Digital">
      </div>
      <div class="price-container">
    
        <div class="sale-price">
          <h3>Tech & Digital</h3>
        </div>
      </div>
    </div>
    <div class="product-card">
      <div class="product-image"><img src="images/eco.jpg" alt="Tech & Digital">
      </div>
    
      <div class="price-container">
    
        <div class="sale-price">
          <h3>Tech & Digital</h3>
        </div>
      </div>
    </div>
    <div class="product-card">
      <div class="product-image"><img src="images/school.jpg" alt="Tech & Digital">
      </div>
    
      <div class="price-container">
    
        <div class="sale-price">
          <h3>Tech & Digital</h3>
        </div>
      </div>
    </div>
    <div class="product-card">
      <div class="product-image"><img src="images/eco.jpg" alt="Tech & Digital">
      </div>
    
      <div class="price-container">
    
        <div class="sale-price">
          <h3>Tech & Digital</h3>
        </div>
      </div>
    </div>
    <div class="product-card">
      <div class="product-image"><img src="images/tech.jpg" alt="Tech & Digital">
      </div>
    
      <div class="price-container">
    
        <div class="sale-price">
          <h3>Tech & Digital</h3>
        </div>
      </div>
    </div>
        </div>
    
        <div class="slider-dots" id="sliderDots"></div>
      </div>
    </div>

  </section>
  <section class="success-stories" id="community">
    <div class="container">
      <div class="success-content">
        <div class="success-image">
          <img src="images/boy_Large-removebg-preview-removebg-preview.png" alt="Successful young Ideas">
        </div>
        <div class="success-text">
          <h2>Ideas Thats Win</h2>
          <p>In a world flooded with ideas, only a few rise above the noise — these are the ideas that win.
          
          They don’t just sound good in theory. They work in the real world. They solve problems, create value, and move people to
          take action.Winning ideas connect. They inspire, entertain, or empower — leaving a lasting impression.</p>
          <button class="btn btn-primary">Read More</button>
        </div>
       
      </div>
    </div>
  </section>  
  <!-- Recently Added Ideas -->
  <section class="recent-ideas" >
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Recently added ideas</h2>
        <button class="btn btn-primary">Donate to a Project that Inspires You</button>
      </div>
      <div class="ideas-grid">
        <div class="idea-card">
          <div class="idea-icon">🌱</div>
          <div class="progress-container">
            <div class="progress">
              <div class="progress-bar" style="width: 70%;"></div>
            </div>
            <div class="funding-text mt-2">70% funded</div>
          </div>
          <h3>Eco Bottle</h3>
         
          <p><strong>Problem Statement:</strong>Plastic waste and student productivity are two growing challenges that often go unnoticed in daily school life. Plastic waste by introducing reusable smart bottles.</p>
       
        </div>
        <div class="idea-card">
          <div class="idea-icon">💡</div>
            <div class="progress-container">
              <div class="progress">
                <div class="progress-bar" style="width: 40%;"></div>
              </div>
              <div class="funding-text mt-2">40% funded</div>
            </div>
          <h3>Homework Helper</h3>
   
          <p><strong>Problem Statement:</strong>Many students struggle with staying focused, organized, and motivated while doing homework — especially at home.
          Helps students organize assignments and reminders.</p>
              
        </div>
        <div class="idea-card">
          <div class="idea-icon">🎯</div>
            <div class="progress-container">
              <div class="progress">
                <div class="progress-bar" style="width: 50%;"></div>
              </div>
              <div class="funding-text mt-2">50% funded</div>
            </div>
          <h3>Inspiration Section</h3>
        
          <p><strong>Problem Statement:</strong> Plastic waste and student productivity are two growing challenges that often go unnoticed in daily school life.</p>
              
        </div>
      </div>
    </div>
  </section>

  <!-- Success Stories -->
  <section class="success-stories" id="community">
    <div class="container">
      <div class="success-content">
        <div class="success-text">
          <h2>Success Stories</h2>
          <p>These real-life journeys showcase how individuals and teams turned challenges into opportunities and achieved remarkable
          outcomes. From overcoming obstacles to reaching breakthrough milestones, these stories serve as a powerful reminder that
          with the right mindset and effort, success is always within reach. Let their achievements motivate and energize you for
          what’s possible.</p>
          <button class="btn btn-primary">Read More</button>
        </div>
        <div class="success-image">
          <img src="images/Group-1.jpg" alt="Successful young entrepreneur">
        </div>
      </div>
    </div>
  </section>

  <!-- Kidpreneur of the Month -->
  <section class="kidpreneur-month" id="event">
    <div class="container bg-img">
      <h2 class="section-title">Kidpreneur Of The Month</h2>
      <div class="testimonial-grid">
        <div class="testimonial-card">
          <div class="testimonial-content">
            <p>These real-life journeys showcase how individuals and teams turned challenges into opportunities and achieved remarkable outcomes. From overcoming obstacles to reaching breakthrough milestones.</p>
          </div>
          <div class="testimonial-author">
            <img src="images/Rectangle_7.jpg" alt="Sarah Johnson">
            <div class="author-info">
              <h4>Sarah Johnson</h4>
              <span>Age 12, Eco-Entrepreneur</span>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-content">
            <p>"Like well-made animations, Creta Class is well designed to cater to kids' feature. My son is 4 years old, and he is
            immersed in its interesting and simple exercises."</p>
          </div>
          <div class="testimonial-author">
            <img src="images/Rectangle_9.jpg" alt="Marcus Chen">
            <div class="author-info">
              <h4>Marcus Chen</h4>
              <span>Age 14, Tech Innovator</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Latest Blogs -->
  <section class="latest-blogs" id="learning">
    <div class="container">
      <h2 class="section-title">Latest Blogs</h2>
      <div class="blog-grid">
        <article class="blog-card">
          <img src="images/Picture.jpg" alt="Blog post 1">
          <div class="blog-content">
            <h3>Entrepreneurship & Innovation</h3>
            <p>Essential tips and strategies for young entrepreneurs...</p>
            <button class="btn btn-primary" onclick="openModal('modal-3')">Read More</button>
          </div>
        </article>
        <article class="blog-card">
          <img src="images/Image1.png" alt="Blog post 2">
          <div class="blog-content">
            <h3>STEM & Creativity</h3>
            <p>Developing critical thinking skills through entrepreneurship...</p>
            <button class="btn btn-primary" onclick="openModal('modal-2')">Read More</button>
          </div>
        </article>
        <article class="blog-card">
          <img src="images/Image3.png" alt="Blog post 3">
          <div class="blog-content">
            <h3>Life Skills for Young Leaders </h3>
            <p>How entrepreneurship helps kids develop self-confidence...</p>
            <button class="btn btn-primary" onclick="openModal('modal-1')">Read More</button>
          </div>
        </article>
      </div>
    </div>
  </section>
    <div id="modal-1" class="jw-modal">
      <div class="jw-modal-body">
        <h3>Life Skills for Young Leaders</h3>
        <p>Whether speaking in front of a crowd or writing an email, communication is everything. Leaders listen well, speak
        clearly, and know how to tailor their message.</p>
        <p>Strong leaders don’t just follow — they think. Critical thinking helps young people evaluate information, weigh options,
        and make smart choices.
        Practice: Debates, case studies, ethical dilemmas.</p>
        <p>Leadership starts from within. Young leaders need to know their values, strengths, and areas for growth.
         Practice: Journaling, feedback sessions, personality assessments.</p>
        <button onclick="closeModal()" class="cross">❌</button>
      </div>
    </div>


    <!--2nd pop-->
    <div id="modal-2" class="jw-modal">
      <div class="jw-modal-body">
        <h3>STEM & Creativity</h3>
        <p>When you think of STEM — science, technology, engineering, and math — you might imagine formulas, codes, and lab
        reports. But here’s the truth:</p>
        <p>Problem Solving Needs Innovation
        Every great invention started with a question and a spark of imagination. Creativity helps students approach problems
        from unique angles. Tomorrow’s careers will require both coding and creative thinking, engineering and empathy, data and design.</p>
       <ul style="padding: 30px; color: #666;">
        <li>Project-Based Learning
        Let students design their own inventions, apps, or scientific experiments — and present them creatively.
      
        </li>
      <li>Arts Integration (STEAM)
      Adding the "A" for Arts turns STEM into STEAM, reminding us that design, storytelling, and visual thinking enhance
      technical work.</li> 
      <li>Makerspaces & Innovation Labs
      Hands-on environments where students tinker, build, prototype, and create with tech and tools.</li>
      </ul>
        <button onclick="closeModal()" class="cross">❌</button>
      </div>
    </div>

    <!-- 3rd Modal-->
    <div id="modal-3" class="jw-modal">
      <div class="jw-modal-body">
        <h3>Entrepreneurship & Innovation</h3>
        <p>Life Skills for Young Leaders: Building the Future, One Skill at a Time
        
        Leadership isn’t just about titles or managing teams — it’s about influence, character, and the ability to navigate life
        with purpose and impact.
        
        For young leaders stepping into the spotlight, developing key life skills early on is the foundation for long-term
        success.</p>
        <p> Understanding your emotions and those of others is key to empathy, conflict resolution, and team dynamics.</p>
        <button onclick="closeModal()" class="cross">❌</button>
      </div>
    </div>
  <!-- Testimonials -->
  <section class="testimonials">
    <div class="container">
      <h2 class="section-title">Testimonials</h2>
      <div class="testimonials-grid">
        <div class="testimonial-item">
          <div class="testimonial-avatar">
            <img src="images/Frame 8972.png" alt="Parent testimonial">
          </div>
          <div class="testimonial-text">
            <p>The most valuable thing I learned was perseverance. Classroom learning never taught me to overcome obstacles like this.
            It truly built my mental toughness."</p>
            <h4>Jennifer Smith</h4>
            <span>Parent</span>
          </div>
        </div>
        <div class="testimonial-item">
          <div class="testimonial-avatar">
            <img src="images/Rectangle 268.png" alt="Teacher testimonial">
          </div>
          <div class="testimonial-text">
            <p>"This program helped my students understand how to start and run a business in a fun, real-world way. They developed
            financial literacy and creativity. It was incredibly engaging."</p>
            <h4>Mr. David Wilson</h4>
            <span>Teacher</span>
          </div>
        </div>
        <div class="testimonial-item">
          <div class="testimonial-avatar">
            <img src="images/Rectangle 268-1.png" alt="Mentor testimonial">
          </div>
          <div class="testimonial-text">
            <p>"Through this program, I’ve become more confident in pitching my ideas. I now understand there are no limits to what I
            can achieve."</p>
            <h4>Lisa Rodriguez</h4>
            <span>Student</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Upcoming Events -->
  <section class="upcoming-events">
    <div class="container">
      <h2 class="section-title">Upcoming Events</h2>
      <div class="events-grid">
        <div class="event-card">
          <div class="event-icon">📅</div>
          <h3>Entrepreneurship Workshop</h3>
          <p>March 15, 2024</p>
        </div>
        <div class="event-card">
          <div class="event-icon">🏆</div>
          <h3>Young Innovator Awards</h3>
          <p>April 20, 2024</p>
        </div>
        <div class="event-card">
          <div class="event-icon">🎯</div>
          <h3>Pitch Competition</h3>
          <p>May 10, 2024</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Mission & Vision -->
  <section class="mission-vision">
    <div class="container">
      <div class="mission-content">
        <div class="mission-text">
          <h2>Our Mission</h2>
          <p>To empower young minds with entrepreneurial skills and creative thinking that will shape the future of
            business and innovation.</p>
        </div>
        <div class="mission-image">
          <img src="images/kid 1.jpg" alt="Kids learning together">
        </div>
      </div>
      <div class="vision-content">
        <div class="vision-image">
          <img src="images/camp-1 1.png" alt="Kids collaborating">
        </div>
        <div class="vision-text">
          <h2>Our Vision</h2>
          <p>A world where every child has the opportunity to explore their entrepreneurial potential and create
            positive change in their communities.</p>
        </div>
      </div>
      <div class="platform-description">
        <h2>A Platform for students to showcase creative startup ideas and inspire the world</h2>
        <button class="btn btn-primary">Join Now</button>
      </div>
    </div>
  </section>

  <!-- Our Team -->
  <section class="our-team" id="about">
    <div class="container">
      <h2 class="section-title">Our Team</h2>
      <div class="team-grid">
        <div class="team-member">
          <img src="images/Ellipse 44.png" alt="Team Member 1">
          <h3>Alex Johnson</h3>
          <p>Founder & CEO</p>
        </div>
        <div class="team-member">
          <img src="images/Ellipse 45.png" alt="Team Member 2">
          <h3>Sarah Davis</h3>
          <p>Education Director</p>
        </div>
        <div class="team-member">
          <img src="images/Ellipse 46.png" alt="Team Member 3">
          <h3>Mike Chen</h3>
          <p>Program Manager</p>
        </div>
        <div class="team-member">
          <img src="images/Ellipse 47.png" alt="Team Member 4">
          <h3>Emma Wilson</h3>
          <p>Community Lead</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="contact-section">
    <div class="container">
  <div class="contact-content">
    <div class="contact-text">
      <h2>Have an idea? Share it With Us!</h2>
      <p>We'd love to hear from young entrepreneurs and their innovative ideas. Get in touch with us today!</p>
      <div class="contact-info">
        <div class="contact-item">
        
          <span>📨 harpreetsood1980@gmail.com</span>
        </div>
        <div class="contact-item">

          <span> ☎️ +91 7658055330</span>
        </div>
        <div class="contact-item">
  
          <span> 🏠 Tarn-Taran Punjab(143401)</span>
        </div>
      </div>
  <button class="btn btn-primary" onclick="openModal('modal-4')">Submitted Ideas</button>
      <div id="modal-4" class="jw-modal">
        <div class="jw-modal-body">
        <div class="data-container">
          <div class="data-header">
            <h2>Submitted Ideas</h2>
            <button id="refreshBtn" class="refresh-btn">Refresh Data</button>
          </div>
        
          <div id="loadingTable" class="loading-message" style="display: none;">
            <span class="loading"></span>Loading Ideas...
          </div>
        
          <div class="table-container">
          
              <div class="video-container" id="vid"></div>
            <table id="contactsTable">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>funds</th>
                  <th>Title</th>
                  <th>Message</th>
                  <th>video</th>
                  <th>Age</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="contactsTableBody"></tbody>
            </table>
        
            <div id="noDataMessage" class="no-data" style="display: block;">
              <p>No contacts found. Submit the form above to see data here.</p>
            </div>
          </div>
        </div>
          <button onclick="closeModal()" class="cross">❌</button>
        </div>
      </div>

     
    </div>
    <div class="contact-form">
      <form id="contactForm"  action="https://formspree.io/f/mpwjnodr"
  method="POST">
        <p>Your Name</p>
        <input type="Name" placeholder=" Enter Your Full Name " name="name" required="">
  
        <p>Your Age</p>
        <input type="Age" placeholder="Enter Your Age" name="age" required="">
        <p>Your Email</p>
        <input type="email" placeholder="Enter Your Email" name="email" required="">
        <p>Your Contact</p>
        <input type="contact" placeholder="Enter Your Contact" name="contact" required="">
        <p>Idea Title</p>
        <input type="Title" placeholder="Enter Your Idea title" name="title" required="">
        <p>Video</p>
        <input type="video" placeholder="Enter Your Idea URL" name="URL" required="">
        <p>Description</p>
        <textarea placeholder="Tell us about your idea" rows="4" name="description" required=""></textarea>
   
        <button type="submit" id="submitBtn" class="btn btn-primary">Send Idea</button>
      </form>
    </div>
  </div>
      
    </div>
  </section>

  <!-- Newsletter -->
  <section class="newsletter">
    <div class="container">
      <div class="newsletter-content">
        <h2>Stay up to date with our story</h2>
        <p>Get the latest updates on events, success stories, and opportunities for young entrepreneurs.</p>
        <div class="newsletter-form">
          <input type="email" placeholder="Enter your email">
          <button class="btn btn-primary">Subscribe</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer" id="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <span class="logo-text"><img src="./images/Group 8144.png" alt="" /></span>
        </div>
        <div class="footer-links">
          <div class="footer-column">
            <h4>Company</h4>
            <ul>
              <li><a href="#about">About Us</a></li>
              <li><a href="#team">Our Team</a></li>
              <li><a href="#careers">Careers</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Programs</h4>
            <ul>
              <li><a href="#workshops">Workshops</a></li>
              <li><a href="#mentorship">Mentorship</a></li>
              <li><a href="#events">Events</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Resources</h4>
            <ul>
              <li><a href="#blog">Blog</a></li>
              <li><a href="#guides">Guides</a></li>
              <li><a href="#support">Support</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 Kidpreneur. All rights reserved.</p>
      </div>
    </div>
  </footer>
  <script type="text/javascript" src="./js/script.js"> </script>
  
</body>
  <!-- Firebase SDK -->
  <script type="module">
    // Import Firebase modules
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore, collection, addDoc, getDocs, deleteDoc, updateDoc, doc, serverTimestamp, orderBy, query } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

    // Firebase configuration
    // IMPORTANT: Replace these with your actual Firebase config
    const firebaseConfig = {
       apiKey: "AIzaSyAktxAvwU_0uNci7aHNO4gICaP59WUThho",
       authDomain: "kidpreneur-23a4f.firebaseapp.com",
      databaseURL: "https://kidpreneur-23a4f-default-rtdb.firebaseio.com",
      projectId: "kidpreneur-23a4f",
      storageBucket: "kidpreneur-23a4f.firebasestorage.app",
      messagingSenderId: "44758658100",
      appId: "1:44758658100:web:444d73b154849a71282e61",
      measurementId: "G-9SJ621H4SF"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Form elements
    const form = document.getElementById('contactForm');
    const submitBtn = document.getElementById('submitBtn');
    const statusMessage = document.getElementById('statusMessage');
    const refreshBtn = document.getElementById('refreshBtn');
    const contactsTableBody = document.getElementById('contactsTableBody');
    const loadingTable = document.getElementById('loadingTable');
    const noDataMessage = document.getElementById('noDataMessage');

    // Form submission handler
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Show loading state
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span class="loading"></span>Sending...';
    //  statusMessage.style.display = 'none';

      try {
        // Get form data
        const formData = new FormData(form);
        const url = formData.get('URL');
        const urlObj = new URL(url);
        const videoId = urlObj.searchParams.get("v");
       
        const data = {
          name: formData.get('name'),
          age: formData.get('age'),
          email: formData.get('email'),
          contact: formData.get('contact') || '',
          title: formData.get('title'),
          video: videoId,
          funds:0,
          description: formData.get('description'),
          timestamp: serverTimestamp(),
          status: 'new'
        };

        // Save to Firestore
        const docRef = await addDoc(collection(db, 'contacts'), data);

        // Show success message
        showMessage('success', 'Thank you! Your message has been sent successfully.');

        // Reset form
        form.reset();

        // Refresh the table to show new data
        loadContacts();

        console.log('Document written with ID: ', docRef.id);

      } catch (error) {
        console.error('Error adding document: ', error);
        showMessage('error', 'Sorry, there was an error sending your message. Please try again.');
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        submitBtn.innerHTML = 'Send Message';
      }
    });

    // Load contacts from Firestore
    async function loadContacts() {
      try {
        loadingTable.style.display = 'block';
        noDataMessage.style.display = 'none';
        contactsTableBody.innerHTML = '';

        // Query contacts ordered by timestamp (newest first)
        const q = query(collection(db, 'contacts'), orderBy('timestamp', 'desc'));
        const querySnapshot = await getDocs(q);

        if (querySnapshot.empty) {
          noDataMessage.style.display = 'block';
        } else {
          querySnapshot.forEach((doc) => {
            const data = doc.data();
            addRowToTable(doc.id, data);
          });
        }
      } catch (error) {
        console.error('Error loading contacts: ', error);
        showMessage('error', 'Error loading contacts. Please try again.');
      } finally {
        loadingTable.style.display = 'none';
      }
    }

    // Add row to table
    function addRowToTable(docId, data) {
      const row = document.createElement('tr');

      // Format timestamp
      let formattedDate = 'N/A';
      if (data.timestamp && data.timestamp.toDate) {
        formattedDate = data.timestamp.toDate().toLocaleDateString() + ' ' +
          data.timestamp.toDate().toLocaleTimeString();
      }
      row.innerHTML = `
                  <td>${data.name} </td>
                  <td>${data.email}</td>
                  <td> <span class="phone-display" id="phone-display-${docId}">${data.funds || 'No funds'}</span>
                    <input type="tel" class="phone-edit" id="phone-edit-${docId}" value="${data.funds || ''}" style="display: none;"></td>
           
                  <td>${data.title}</td>
                  <td class="message-cell">${data.description}</td>
                  <td> <button class="edit-btn" onclick="showVideo('${data.video}')" id="video-btn-${data.video}" style='background:green'>
                       video 📀
                    </button></td>
                     <td>${data.age}</td>
                  <td>
                          <button class="edit-btn" onclick="editPhone('${docId}')" id="edit-btn-${docId}">
                        Edit
                    </button>
                    <button class="update-btn" onclick="updatePhone('${docId}')" id="update-btn-${docId}" style="display: none;">
                        Update
                    </button>
                    <button class="cancel-btn" onclick="cancelEdit('${docId}')" id="cancel-btn-${docId}" style="display: none;">
                        Cancel
                    </button>
                    <button  onclick="deleteContact('${docId}')">
                        ❌
                    </button>
                  </td>
                
              `;

      contactsTableBody.appendChild(row);
    }

    // Delete contact
    window.deleteContact = async function (docId) {
      if (!confirm('Are you sure you want to delete this contact?')) {
        return;
      }

      try {
        // Find the delete button and show loading state
        const deleteBtn = event.target;
        deleteBtn.disabled = true;
        deleteBtn.innerHTML = '<span class="loading"></span>';

        await deleteDoc(doc(db, 'contacts', docId));

        // Reload the table
        loadContacts();

        showMessage('success', 'Contact deleted successfully.');

      } catch (error) {
        console.error('Error deleting contact: ', error);
        showMessage('error', 'Error deleting contact. Please try again.');

        // Reset button state on error
        const deleteBtn = event.target;
        deleteBtn.disabled = false;
        deleteBtn.innerHTML = 'Delete';
      }
    };
      // Edit phone number
      window.showVideo = function (videoID) {
  const vid = document.getElementById('vid');
  vid.style.display='block';
  vid.innerHTML =`<iframe width="560" height="315" src="https://www.youtube.com/embed/${videoID}" title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen>
        </iframe>`
      }

      window.editPhone = function (docId) {
        const phoneDisplay = document.getElementById(`phone-display-${docId}`);
        const phoneEdit = document.getElementById(`phone-edit-${docId}`);
        const editBtn = document.getElementById(`edit-btn-${docId}`);
        const updateBtn = document.getElementById(`update-btn-${docId}`);
        const cancelBtn = document.getElementById(`cancel-btn-${docId}`);

        // Hide display, show edit input
        phoneDisplay.style.display = 'none';
        phoneEdit.style.display = 'block';
        phoneEdit.focus();

        // Hide edit button, show update/cancel buttons
        editBtn.style.display = 'none';
        updateBtn.style.display = 'inline-block';
        cancelBtn.style.display = 'inline-block';
      };

      // Update phone number in Firestore
      window.updatePhone = async function (docId) {
        const phoneEdit = document.getElementById(`phone-edit-${docId}`);
        const newPhone = phoneEdit.value.trim();

        try {
          // Show loading state
          const updateBtn = document.getElementById(`update-btn-${docId}`);
          updateBtn.disabled = true;
          updateBtn.innerHTML = '<span class="loading"></span>';

          // Update document in Firestore
          await updateDoc(doc(db, 'contacts', docId), {
            funds: newPhone
          });

          // Update the display
          const phoneDisplay = document.getElementById(`phone-display-${docId}`);
          phoneDisplay.textContent = newPhone || 'N/A';

          // Reset UI
          cancelEdit(docId);

          showMessage('success', ' updated successfully.');

        } catch (error) {
          console.error('Error updating phone number: ', error);
          showMessage('error', 'Error updating phone number. Please try again.');

          // Reset button state on error
          const updateBtn = document.getElementById(`update-btn-${docId}`);
          updateBtn.disabled = false;
          updateBtn.innerHTML = 'Update';
        }
      };

      // Cancel edit mode
      window.cancelEdit = function (docId) {
        const phoneDisplay = document.getElementById(`phone-display-${docId}`);
        const phoneEdit = document.getElementById(`phone-edit-${docId}`);
        const editBtn = document.getElementById(`edit-btn-${docId}`);
        const updateBtn = document.getElementById(`update-btn-${docId}`);
        const cancelBtn = document.getElementById(`cancel-btn-${docId}`);

        // Show display, hide edit input
        phoneDisplay.style.display = 'block';
        phoneEdit.style.display = 'none';

        // Show edit button, hide update/cancel buttons
        editBtn.style.display = 'inline-block';
        updateBtn.style.display = 'none';
        cancelBtn.style.display = 'none';

        // Reset button state
        updateBtn.disabled = false;
        updateBtn.innerHTML = 'Update';
      };
    // Refresh button handler
    refreshBtn.addEventListener('click', loadContacts);

    // Show status message
    function showMessage(type, message) {
   //   statusMessage.className = `status-message ${type}`;
   //   statusMessage.textContent = message;
   //   statusMessage.style.display = 'block';

      // Hide message after 5 seconds
     
    }

    // Form validation enhancements
    const inputs = form.querySelectorAll('input, textarea, select');
    inputs.forEach(input => {
      input.addEventListener('blur', validateField);
      input.addEventListener('input', clearErrors);
    });

    function validateField(e) {
      const field = e.target;
      const value = field.value.trim();

      // Remove existing error styling
      field.style.borderColor = '';

      // Validate required fields
      if (field.hasAttribute('required') && !value) {
        field.style.borderColor = '#dc3545';
        return false;
      }

      // Validate email format
      if (field.type === 'email' && value) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(value)) {
          field.style.borderColor = '#dc3545';
          return false;
        }
      }

      // Validate phone format (optional)
      if (field.type === 'tel' && value) {
        const phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
        if (!phoneRegex.test(value.replace(/[\s\-\(\)]/g, ''))) {
          field.style.borderColor = '#dc3545';
          return false;
        }
      }

      return true;
    }

    function clearErrors(e) {
      e.target.style.borderColor = '';
    }

    // Load contacts when page loads
    document.addEventListener('DOMContentLoaded', loadContacts);
  </script>

</html>